/* --- Paleta de Colores --- */
:root { /* MODO OSCURO POR DEFECTO */
  --font-primary: 'Roboto', sans-serif;
  --color-bg-dark: #1E1E2A;
  --color-bg-light: #27293D;
  --color-sidebar: #191924;
  --color-border: #3A3A50;
  --color-text-primary: #FFFFFF;
  --color-text-secondary: #A0A0B5;
  --color-accent-primary: #8A4FFF;
  --color-accent-secondary: #FFC700;
  --color-priority-high: #E94F37;
  --color-priority-medium: #F4A261;
  --color-priority-low: #4CAF50;
  --shadow-sm: 0 2px 4px rgba(0,0,0,0.1);
  --shadow-md: 0 4px 10px rgba(0,0,0,0.2);
  --border-radius-md: 12px;
  --border-radius-lg: 20px;
  --animation-speed: 300ms;
}

.light-mode { /* MODO CLARO */
  --color-bg-dark: #F4F7FC;
  --color-bg-light: #FFFFFF;
  --color-sidebar: #FFFFFF;
  --color-border: #E0E0E0;
  --color-text-primary: #1E1E2A;
  --color-text-secondary: #6c757d;
}

@keyframes fadeInUp {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

/* --- ESTRUCTURA GLOBAL --- */
html, body {
  height: 100%;
  margin: 0;
  font-family: var(--font-primary);
  background-color: var(--color-bg-dark);
  color: var(--color-text-primary);
  transition: background-color 0.3s, color 0.3s;
  overflow: hidden;
}

/* --- ESTRUCTURA PRINCIPAL --- */
.app-layout{
  height: 100vh;
  width: 100%;
  display: grid;
}

/* Layout con panel lateral y de actividad */
.app-layout {
  grid-template-columns: 240px 1fr 300px;
  grid-template-rows: auto 1fr;
  grid-template-areas: 
    "sidebar header activity"
    "sidebar main activity";
}

/* Layout expandido (sin panel de actividad) */
.app-layout-full {
  min-height: 100vh; /* en lugar de height fija */
  display: grid;
  grid-template-columns: 240px 1fr;
  grid-template-rows: auto 1fr;
  grid-template-areas:
    "sidebar header"
    "sidebar main";
}

/* --- CONTENIDO PRINCIPAL --- */
.app-main-content {
  grid-area: main;
  background-color: var(--color-bg-dark);
  padding: 30px;
  overflow-y: auto;
  animation: fadeInUp var(--animation-speed) ease-out;
  display: flex;
  flex-direction: column;
}

/* --- Vistas y Contenedores --- */
.projects-view-container,
.stats-view-container,
.settings-view-container,
.kanban-board-container,
.list-view-container {
  flex-grow: 1;
  display: flex;
  flex-direction: column;
  min-height: 0; /* 🔧 evita colapso de contenido dentro del flex */
}

/* --- Efectos Globales --- */
button, .project-card {
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

button:active {
  transform: scale(0.95);
}

/* --- Estilos de Proyectos --- */
.projects-view-container h2 {
  font-size: 1.8rem;
  border-bottom: 1px solid var(--color-border);
  padding-bottom: 15px;
  margin-bottom: 25px;
}

.project-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: 25px;
}

.project-card {
  background: var(--color-bg-light);
  border: 1px solid var(--color-border);
  border-radius: var(--border-radius-lg);
  padding: 25px;
  cursor: pointer;
  display: flex;
  flex-direction: column;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.project-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 0 20px rgba(138, 79, 255, 0.2);
}

.project-card h3 {
  margin: 0 0 5px 0;
  color: var(--color-text-primary);
  flex-grow: 1;
}

.project-card .task-count {
  font-size: 0.9rem;
  color: var(--color-text-secondary);
  margin: 0 0 20px 0;
}

.project-card-footer {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 10px;
}

.project-team-avatars {
  display: flex;
}

.project-team-avatars .avatar-sm {
  margin-left: -10px;
  border: 2px solid var(--color-bg-light);
}

.project-team-avatars .avatar-sm:first-child {
  margin-left: 0;
}

.project-team-avatars .avatar-sm.more {
  background-color: var(--color-border);
}

.progress-percentage {
  font-size: 0.9rem;
  font-weight: 500;
}

.progress-bar-container-sm {
  background-color: var(--color-bg-dark);
  border-radius: 4px;
  height: 8px;
  overflow: hidden;
}

.progress-bar-sm {
  background-color: var(--color-accent-primary);
  height: 100%;
  border-radius: 4px;
  transition: width 0.5s ease;
}

.project-card.add-new {
  justify-content: center;
  align-items: center;
  gap: 10px;
  color: var(--color-text-secondary);
  border-style: dashed;
}

.project-card.add-new:hover {
  color: var(--color-text-primary);
  border-color: var(--color-text-primary);
}
